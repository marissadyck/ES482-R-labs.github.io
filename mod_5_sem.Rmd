---
title: "Statistical Modeling"
author: 'Module 3: Structural equation models (SEMs)'
date: "2024"
output:
  html_document:
    code_folding: show
    theme: journal
    toc: yes
    toc_float: yes
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
	echo = TRUE,
	message = FALSE,
	warning = FALSE,
	cache = TRUE
)
```

```{r echo = FALSE, message=FALSE, warning=FALSE}

#  ES482 R labs   
#      University of Victoria, Victoria BC Canada             

#  Statistical Modeling
# Module 5: Structural equation models (SEMs)

# Libraries --------------------

library(piecewiseSEM)

```

## Materials

### Scripts

1. Click [here](mod_5_sem.R) to download the script! Save the script to the 'scripts'' folder in your project directory you set up in the previous module.

2. Load your script in RStudio. To do this, open RStudio and click the **files** window and select the scripts folder and then this script.

### Cheat sheets

There are no cheat sheets specific to this module but don't forget the ones you've already printed for previous modules!

### R documentation

Click [here](images/piecewiseSEM.pdf) to download the R documentation for the piecewsieSEM package

### YouTube

Below our several YouTube videos that provide a good introduction to SEMs

[Intro to Structural Equation Modeling - Johnny Lin](https://www.youtube.com/watch?v=sKVFkVoYfbs)   

[Structural Equation Models in Ecology - Jon Lefcheck](https://www.youtube.com/watch?v=VT-gw_VVP1E)    

*A lot of the material and code presented in this module is taken from Lefcheck's seminar on SEM.*

## What is SEM?

Structural equation modeling is a statistical approach that allows us to test multiple (network) hypotheses regarding the relationships between multiple variables in our data simultaneously. The name itself tells us a lot about how these models work

### Structural

Implies that there is an underlying structure (cause and effect) and we have a hypothesis regarding what that underlying structure is.

### Equation

These hypotheses can then be translated to a series of mathematical equations ( individual general linear regressions) that are grouped within a single causal network. These equations are particularly useful to assess direct AND indirect effects within a system.

### Modeling

We can then fit these equations to data to support or refute our hypothesized structure.

> With SEMs our analysis is heavily reliant on the hypothesized underlying structure (our proposed causes and effects) so it is crucial when applying SEM that you have a strong understanding of your system. 



<center>
![](images/construction_dog.jpeg){width=40%}
</center>